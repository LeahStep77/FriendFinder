<!DOCTYPE html>
  <html lang="en">
  <head>
  <meta charset="UTF-8">
  <title>Friend Finder Survey</title>
  <link href="assets/survey.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">   
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css"> -->  
  <!-- <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script> -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script> -->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="container-fluid">
        <div class="col-md-11">
          <br>
        	<h1>Survey Questions</h1>
        	<form>
          	<div class="form-group">
              <label for="userName"><h4>Name (Required)</h4></label>
              <input type="text" class="form-control" id="userName" placeholder="Your Name Here">
            </div>

            <div class="form-group">
              <label for="userPhoto"><h4>Link to Photo Image (required)</h4></label>
              <input type="link" class="form-control" id="userPhoto" placeholder="Photo Image Link">
            </div>
          </form>
      </div>
    </div>
    
    <br>

    <div class="container-fluid"> 
      <div class="row justify-content-md-center">
        <form>
          <label for="Question1"><h6>1. The truth is out there</h6></label>
          <select class="form-control" id="question1">
            <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>

          <br>
          
          <label for="Question2"><h6>2. Resistance is Futile</h6></label>
          <select class="form-control" id="question2">
            <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>

            <br>
          
          <label for="Question3"><h6>3. Life is a daring adventure or it is nothing at all.</h6></label>
          <select class="form-control" id="question3">
           <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>

          <br>

          <label for="Question4"><h6>1. The truth is out there</h6></label>
          <select class="form-control" id="question4">
            <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>

          <br>
          
          <label for="Question5"><h6>2. Resistance is Futile</h6></label>
          <select class="form-control" id="question5">
            <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>

            <br>
          
          <label for="Question6"><h6>3. Life is a daring adventure or it is nothing at all.</h6></label>
          <select class="form-control" id="question6">
           <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>

          <br>

          <label for="Question7"><h6>1. The truth is out there</h6></label>
          <select class="form-control" id="question7">
            <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>

          <br>
          
          <label for="Question8"><h6>2. Resistance is Futile</h6></label>
          <select class="form-control" id="question8">
            <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>

          <br>

                    
          <label for="Question9"><h6>3. Life is a daring adventure or it is nothing at all.</h6></label>
          <select class="form-control" id="question9">
           <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>

          <br>
          
           <label for="Question10"><h6>3. Life is a daring adventure or it is nothing at all.</h6></label>
          <select class="form-control" id="question10">
           <option value="1">1 Strongly Agree</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 Strongly Disagree</option>
          </select>
          
          <br>

          <div class="col-auto">
            <button id="submit" type="submit" class="btn btn-info btm-lg btn-block"><i class="fa fa-check-circle" aria-hidden="true"></i>  Submit</button>
          </div>
      </form>
    </div>
  </div>

  <br>

    <div id="info" class="mastfoot">
      <nav class="nav nav-masthead">
        <a class="nav-link" href="/api/friends">API Friends List</a>
        <a class="nav-link" href="https://github.com/LeahStep77/friendfinder">GitHub Repo</a>
      </nav>
    </div>

<!-- Modal Dialog Displaying Closest Friend Match -->
<div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Closest Friend Match</h4>
      <div class="divider"></div>
      <h5 id="userMatch"></h5>
      <img id="userMatchImage" class="materialboxed" width="650" src="">
    </div>
    <div class="modal-footer">
      <a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
    </div>
  </div>
<!-- Button trigger modal -->

  <script type="text/javascript">

    // $(document).ready(function() {
    //   $('select').material_select();
    //   $('.modal').modal({
    //     dismissible: true, 
    //     opacity: .5, 
    //     inDuration: 300, 
    //     outDuration: 200, 
    //     startingTop: '4%',
    //     endingTop: '10%' 
    //   });
    // });

/////////////////////////////////////////////////////

    $('#submit').on('click', function(event) {
      event.preventDefault();
      //console.log("working");
      // Gather user inputs
      var userInput = {
        name: $('#userName').val().trim(),
        photo: $('#userPhoto').val().trim(),
        scores:[
          $('#question1').val().trim(),
          $('#question2').val().trim(),
          $('#question3').val().trim(),
          $('#question4').val().trim(),
          $('#question5').val().trim(),
          $('#question6').val().trim(),
          $('#question7').val().trim(),
          $('#question8').val().trim(),
          $('#question9').val().trim(),
          $('#question10').val().trim()
        ]
      };
      //console.log('userInput = ' + JSON.stringify(userInput));
      // Add user inputs to friends list
      $.post('/friends', userInput)
      
      // .done(function(data){
      //   $('#userMatch').html(data.matchName);
      //     $("#userMatchImage").attr("src", data.matchImage);
          
      //       $('#modal1').modal('open');
      //        });
      });
  
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  </body>
</html>